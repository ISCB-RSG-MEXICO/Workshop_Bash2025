# Visualizaci√≥n y An√°lisis de Datos

Hay tres sistemas principales de graficaci√≥n en R, el sistema de graficaci√≥n `base`, el paquete de `lattice` y el paquete `ggplot2`.

::: callout-important
¬°ATENCI√ìN!

Antes de hablar del paquete con el qu√© graficaremos tenemos que hablar del mundo de `tidyverse` (hablaremos someramente, ya que es un paquete s√∫per complejo que literal requiere un curso completo para hablar de √©l ‚ú®)
:::

## **üîç¬øQu√© es `tidyverse`?**

Es una colecci√≥n de paquetes de `R` con una filosof√≠a de dise√±o predefinida, dise√±ada para la manipulaci√≥n y visualizaci√≥n en ciencia de datos. Todos los paquetes comparten una filosof√≠a de dise√±o, gram√°tica y estructura de datos.

![](images/lol-01.png){fig-align="center"}

Instala el paquete tidyverse completo con:

::: {.callout-note style="background-color: #ffe4f7; border-left: 6px solid #ff69b4; color: #6b0058; ::: {.callout-note}" icon="false"}
{r}

`install.packages("tidyverse")`
:::

Paquetes escenciales:

-   **`ggplot2`** ‚Üí gr√°ficar

-   **`dplyr`** ‚Üí Manipulaci√≥n de datos

-   **`tidyr`** ‚Üí ordenar datos

-   **`readr`** ‚Üí leer datos

-   **`tibble`** ‚Üí dataframes modernos

-   **`stringr/forcats`** ‚Üí texto y factores

## **‚≠êÔ∏èIntroducci√≥n a `ggplot2`**

`ggplot2` es un paquete de `R` s√∫per efectivo para crear gr√°ficos de calidad para publicaci√≥n y se basa en la gram√°tica de los gr√°ficos, la idea de que cualquier gr√°fico se puede construir a partir del mismo conjunto de componentes: un conjunto de datos, la est√©tica de mapeo y capas gr√°ficas:

-   Los conjuntos de datos son los datos que nostros, los usuario, proporcionamos.

-   La est√©tica de mapeo es lo que conecta los datos con los gr√°ficos. Le decimos a ggplot2 c√≥mo usar los datos para afectar el aspecto del gr√°fico, para cambiar lo que se traza en el eje X o Y, o el tama√±o o color de diferentes puntos de datos.

-   Las capas son la salida gr√°fica real de ggplot2. Las capas determinan qu√© tipos de trama se muestran (plot de dispersi√≥n, histograma, etc.), el sistema de coordenadas utilizado (rectangular, polar, otros) y otros aspectos importantes del gr√°fico.

### En resumen

**`ggplot2`** es un paquete de `R` que sirve para hacer **gr√°ficos est√©ticos, claros y profesionales para publicaci√≥n** con muy poco c√≥digo.

Lo que hace especial a `ggplot2` es que construye los gr√°ficos **por partes**, como si armaras un ‚Äús√°ndwich‚Äù, es decir te permite construir gr√°ficos por capas:

::: callout-note
`datos ‚Üí est√©tica ‚Üí geometr√≠a ‚Üí tema ‚Üí etiquetas.`
:::

Esto permite que:

-   Tus gr√°ficos sean f√°ciles de leer y de hacer.

-   Modificar elementos y que est√° acci√≥n no destruya todo el gr√°fico.

![](images/IMG_9994.jpg){fig-align="center" width="223"}

-   Poder adaptar cualquier visualizaci√≥n biol√≥gica (expresi√≥n, abundancia, etc.)

Cargamos la libreria con:

::: {.callout-note style="background-color: #ffe4f7; border-left: 6px solid #ff69b4; color: #6b0058; ::: {.callout-note}" icon="false"}
{r}

`library(ggplot2)`
:::

::: {.callout-tip icon="false"}
NOTA:

Recuerda que en Rstudio por default te desglosar√° la lista de librerias/paquetes que empiecen con "g" si observas que no te aparece es por que no se cargo correctamente.
:::

## üß© Los 5 bloques de la Gram√°tica en `ggplot2`

1.  **Datos `(data)`**

El conjunto de datos que quieres graficar.

::: {.callout-note style="background-color: #7F0000;     /* rojo intenso */ border-left: 6px solid #FF0000; /* rojo brillante */ color: #FFDFA3;                 /* dorado suave */"}
{r}

`#Cargamos el data y definimos la variable`

`hp_data <- read.csv("hp_data/Characters.csv", sep = ";")`
:::

2.  **Est√©tica `(aes = aesthetics)`** Indica qu√© variable va al eje X, al Y, al color, tama√±o, etc.

::: {.callout-note style="background-color: #003B1A;       border-left: 6px solid #00A651;   color: #E0FFE8;"}
`{r}`

`#Indicamos las variables`

aes(x = Birth, y = Gender, color = House)
:::

3.  **Geometr√≠a `(geom)`**

Corresponde a el tipo de gr√°fico:

-   `geom_point()` ‚Üí puntos

-   `geom_histogram()` ‚Üí histogramas

-   `geom_boxplot()` ‚Üí boxplots

-   `geom_bar()` ‚Üí barras

-   

4.  **Escalas `(scale_)`**

Permite ajustar los colores, tama√±os, ejes, etc.

::: {.callout-note style="background-color: #001A4D;       border-left: 6px solid #0047FF;   color: #E6D5B8;"}
`{r}`

`#Definimos la paleta de colores`

`hp_cols <- c( "Gryffindor" = "#b30000", # rojo intenso "Slytherin" = "#005f2f", # verde fuerte "Ravenclaw" = "#002b80", # azul profundo "Hufflepuff" = "#e6b800", # amarillo dorado "Beauxbatons Academy of Magic" = "#6ea8ff", # azul claro elegante "Durmstrang Institute" = "#660000" # burdeos oscuro )`

`#Ajustamos los colores`

`scale_fill_manual(values = hp_cols)`
:::

5.  **Temas `(theme)`**

Aspecto final del gr√°fico: fondo, l√≠neas, letras.

::: {.callout-note style="background-color: #FFF200;       border-left: 6px solid #FFD300;   color: #3A3A00;"}
`{r}`

`theme_minimal()`
:::

## üé® Ejemplo explicado paso a paso

::: callout-note
`{r}`

#Ahora juntamos todo lo aprendido!

`hp_data %>% count(House) %>% ggplot(aes(x = 2, y = n, fill = House)) + geom_col(width = 1, color = "white") + coord_polar(theta = "y") + scale_fill_manual(values = hp_cols) + xlim(1.5, 2.5) + theme_minimal()`
:::

![](images/clipboard-3599886339.png){fig-align="center" width="391"}

## Creaci√≥n de histogramas y diagramas de dispersi√≥n b√°sicos.

FALTA METER INFO

# Estad√≠stica Descriptiva en R 

La **estad√≠stica descriptiva** permite resumir y entender r√°pidamente las caracter√≠sticas principales de un conjunto de datos. En esta secci√≥n cubriremos los conceptos esenciales:

-   **Media**
-   **Mediana**
-   **Desviaci√≥n est√°ndar**
-   **Resumen de datos**
-   Implementaci√≥n pr√°ctica en **R**

------------------------------------------------------------------------

## üß† Conceptos B√°sicos

### üî∏ Media

La **media** es simplemente el **promedio** de los datos.\
üëâ Tomas todos los valores, los sumas y los divides entre la cantidad de datos.

Ejemplo:\
Datos: 4, 6, 10\
Media = (4 + 6 + 10) / 3 = **6.67**

![](images/Screenshot 2025-11-26 at 12.59.09‚ÄØp.m.-01.png)

### üî∏ Mediana

::: callout-note
Ejemplo:\

Datos: 2, 8, 5 ‚Üí ordenados: 2, 5, 8\
Mediana = 5
:::

Si hay **n√∫meros pares**, no hay un valor justo al centro, as√≠ que tomas los dos del centro y sacas su promedio.

::: callout-note
Ejemplo:\

Datos: 1, 3, 7, 10 ‚Üí del centro: 3 y 7 ‚Üí mediana = (3+7)/2 = **5**
:::

La mediana sirve mucho cuando hay valores extremos (outliers) que podr√≠an afectar la media.

### üî∏ Desviaci√≥n Est√°ndar

-   Es una medida que indica **qu√© tan dispersos** o **separados** est√°n los datos respecto a la media.

-   Si la desviaci√≥n est√°ndar es **peque√±a**, los valores est√°n **muy cerca** del promedio.

-   Si es **grande**, los valores est√°n **muy separados** y hay m√°s variabilidad.

![](images/Screenshot 2025-11-26 at 12.59.28‚ÄØp.m..png)

### üî∏ Resumen de datos

::: callout-note
Incluye: \
- M√≠nimo: Es el valor **m√°s peque√±o** del conjunto de datos, Ayuda a saber cu√°l es el extremo m√°s bajo.\
- 1er cuartil (Q1) : Es el valor qu√© marca el **25%** de los datos inferiores cuando est√°n ordenados.

Es decir:

-   25% de los datos est√°n por **debajo** de Q1

-   75% est√°n por **encima**

Q1 ayuda a saber d√≥nde empieza la parte ‚Äúbaja‚Äù de los datos.\
- Mediana: Es el valor que divide los datos en dos partes iguales (50%).\
(Es muy √∫til cuando hay valores extremos porque **no se altera tanto como la media**).\
- Media: El promedio de los datos (Se usa para representar el ‚Äúcentro‚Äù, pero es sensible a valores extremos).\
- 3er cuartil (Q3): Es el valor que marca el **75%** de los datos ordenados.

Significa:

-   75% de los datos est√°n por **debajo**

-   25% por **encima**

-   Ayuda a ver d√≥nde empieza la parte ‚Äúalta‚Äù de los datos.

\- M√°ximo: Es el valor **m√°s grande** del conjunto.
:::

------------------------------------------------------------------------

## üì• 1. Cargar datos en R

Usaremos un vector de ejemplo llamado `x`:

``` r
x <- c(5, 8, 12, 4, 6, 9, 10, 7)
```

------------------------------------------------------------------------

## üìê 2. Calcular medidas b√°sicas

### Media

``` r
mean(x)
```

### Mediana

``` r
median(x)
```

### Desviaci√≥n est√°ndar

``` r
sd(x)
```

------------------------------------------------------------------------

### üì¶ 3. Resumen de datos

R ofrece una funci√≥n integrada:

``` r
summary(x)
```

Esto muestra: - M√≠nimo - Q1 - Mediana - Media - Q3 - M√°ximo

------------------------------------------------------------------------

## üìä 4. Visualizaci√≥n b√°sica

Para complementar la estad√≠stica descriptiva, podemos usar un **histograma**:

``` r
hist(x, main = "Histograma de valores", xlab = "Valores", col = "lightpink")
```

Y un **boxplot**:

``` r
boxplot(x, main = "Boxplot de valores", col = "lightblue")
```

------------------------------------------------------------------------

## üß™ 5. Ejemplo completo

``` r
x <- c(5, 8, 12, 4, 6, 9, 10, 7)

media <- mean(x)
mediana <- median(x)
desv <- sd(x)
resumen <- summary(x)

cat("Media:", media, "\n")
cat("Mediana:", mediana, "\n")
cat("Desviaci√≥n Est√°ndar:", desv, "\n")
cat("\nResumen:\n")
print(resumen)
```

------------------------------------------------------------------------

-   La estad√≠stica descriptiva permite obtener una visi√≥n general r√°pida de los datos.
-   R facilita estos c√°lculos con funciones simples e intuitivas.
-   Estas herramientas son la base para an√°lisis m√°s avanzados en gen√≥mica y ciencias de datos.

### Referencias

-   The Carpentries. (2025). *R for Reproducible Scientific Analysis*.\
    <https://swcarpentry.github.io/r-novice-gapminder/08-plot-ggplot2.html>
-   Demiry√ºrek, G. (2021). *Harry Potter Dataset*. Kaggle.\
    <https://www.kaggle.com/datasets/gulsahdemiryurek/harry-potter-dataset>
-   

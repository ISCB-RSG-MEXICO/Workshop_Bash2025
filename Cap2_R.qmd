# Introducción al manejo de datos en R

### Paqueterías en R

En R, podemos **agregar funciones y herramientas adicionales** mediante **paqueterías (packages),** también llamadas **librerías**.

Una paquetería es un conjunto de funciones, datos y documentación creado por alguien más, o incluso por ti.

Actualmente, hay **más de 10,000 paqueterías disponibles en CRAN** (Comprehensive R Archive Network).

### ¿Para qué sirven las paqueterías en R?

Las paqueterías en R permiten **ampliar las funciones básicas del programa**. Por ejemplo:

-   Crear gráficos más avanzados (`ggplot2`).

-   Manipular y limpiar datos fácilmente (`dplyr`, `tidyr`).

-   Realizar análisis estadísticos complejos (`lme4`, `caret`).

-   Trabajar con fechas, textos o datos especiales (`lubridate`, `stringr`).

En otras palabras, **las paqueterías te dan herramientas listas para usar** que te ahorran tiempo y esfuerzo, sin tener que escribir todo desde cero.

### ¿En dónde encontrar más paqueterías?

Si quieres explorar más paqueterías de R o buscar herramientas específicas, existen varios sitios confiables donde puedes consultar. Algunos de ellos son:

-   El **repositorio oficial CRAN** (Comprehensive R Archive Network) contiene todas las paqueterías revisados y se puede consultar en <https://cran.r-project.org/web/packages/>.

-   Para explorar y administrar paqueterías de manera más cómoda, también puedes usar el **RStudio Package Manager** en <https://packagemanager.rstudio.com/>.

-   Si trabajas con datos biológicos o genómicos, **Bioconductor** ofrece muchas paqueterías especializadas en este tipo de análisis <https://www.bioconductor.org/packages/>.

-   Además, algunos desarrolladores publican paqueterías en **GitHub**, desde donde se pueden instalar directamente usando `devtools::install_github("usuario/paquete")`.

Ahora veamos cómo utilizarlas en R con loos siguientes códigos:

1.  Ver qué paqueterías tienes instaladas

```{r, eval=FALSE}
installed.packages()
```

```{r, echo=FALSE}
pkgs <- rownames(installed.packages())
c(head(pkgs, 5), "...", tail(pkgs, 5))
```

2.  Instalar una paquetería

Para instalar una nueva paquetería se utiliza la función `install.packages("nombre_de_la_paqueteria")`

Reemplaza `"nombre_de_la_paqueteria"` por el nombre real del la paquetería que quieras instalar.

Ejemplo:

```{r, eval=FALSE}
install.packages("ggplot2") # una libreria muy famosa para crear graficos
```

3.  Actualizar una paquetería

Si queremos actualizar una paquetería, lo podemos realizar con el siguiente código.

```{r, eval=FALSE}
update.packages("ggplot2")
```

::: callout-caution
## Importante

Si no específicas, por defecto R, revisa todas las paqueterías instaladas. Dependiendo de la versión de R y de tu configuración, puede actualizarlas todas.
:::

4.  Eliminar una paquetería

```{r, eval=FALSE}
remove.packages("ggplot2")
```

5.  Cargar una paquetería para utilizarla

```{r}
library(ggplot2)
```

También existe otra manera de cargar las paqueterías. Usando la pestaña de **Packages** en la ventana inferior derecha de Rstudio puedes ver todos las paqueterías instaladas.

-   Cada paquete tiene una **casilla de verificación**:

```         
-    ✅ Casilla marcada → el paquete está **cargado y listo para usar**

-    ⬜ Casilla vacía → el paquete **no está cargado**
```

-   Puedes **marcar la casilla** para cargar un paquete, o **desmarcarla** para descargarlo de la sesión.
-   También puedes instalar o actualizar paqueterías usando los botones **Install** y **Update** en la parte superior de la pestaña.

# **Manejo de Data Frames en R**

Una vez que sabemos cómo trabajar con paqueterías en R, podemos comenzar a manipular datos de forma más eficiente. Para ello, primero veremos cómo funcionan los **data frames**, qué podemos hacer con ellos y cómo importarlos desde archivos externos.

## **Introducción a los data frames en R**

En R, un **data frame** es una de las estructuras más utilizadas para trabajar con datos. Puede pensarse como una tabla, donde cada columna representa una variable y cada fila corresponde a una observación.\

En esta sección trabajaremos con una base de datos inspirada en el universo de *Harry Potter* (personajes, casas, hechizos, etc.), que nos servirá para practicar las operaciones básicas.

## **Importación y Exportación de Datos**

Antes de manipular datos, es importante aprender a **importarlos** desde archivos externos y **exportarlos** cuando queramos guardar resultados.

### **Funciones principales**

-   **`read.csv()`** -- Importa archivos CSV.

-   **`read.table()`** -- Importa archivos en formatos de tabla más generales.

-   **`write.csv()`** -- Exporta un data frame a un archivo CSV.

Ejemplo básico:

```{r}
hp_data <- read.csv("hp_data/Characters.csv", sep = ";")
```

## Cómo explorar un data frame en R

Una vez que tienes un data frame (ya sea creado a mano o importado), es importante aprender a explorarlo para entender su estructura y contenido.

A continuación se presentan las funciones más útiles para esto:

#### **Ver las primeras filas**

Muestra las primeras 6 filas del data frame.

```{r, eval=FALSE}
head(hp_data)
```

```{r, echo=FALSE}
head(hp_data) |>
  knitr::kable() |>
  kableExtra::kable_styling(
    full_width = FALSE,
    bootstrap_options = c("striped")
  ) |>
  kableExtra::scroll_box(width = "100%", height = "300px")
```

Puedes cambiar el número de filas:

```{r, eval=FALSE}
head(hp_data, 3)
```

```{r, echo=FALSE}
head(hp_data, 3) |>
  knitr::kable() |>
  kableExtra::kable_styling(
    full_width = FALSE,
    bootstrap_options = c("striped")
  ) |>
  kableExtra::scroll_box(width = "100%", height = "300px")
```

#### **Ver las últimas filas**

```{r, eval=FALSE}
tail(hp_data)
```

```{r, echo=FALSE}
tail(hp_data) |>
  knitr::kable() |>
  kableExtra::kable_styling(
    full_width = FALSE,
    bootstrap_options = c("striped")
  ) |>
  kableExtra::scroll_box(width = "100%", height = "300px")
```

#### **Conocer la estructura del data frame**

```{r}
str(hp_data)
```

Esto muestra:

-   número de filas y columnas

-   tipo de cada variable (character, numeric, factor, etc.)

-   una muestra del contenido

#### **Dimensiones del data frame**

Número de filas:

```{r}
nrow(hp_data)
```

Número de columnas:

```{r}
ncol(hp_data)
```

Filas y columnas juntas:

```{r}
dim(hp_data)
```

#### **Nombres de las columnas**

Para poder ver los nombres de las columnas tenemos dos funciones diferentes `names()` o `colnames()`

```{r}
names(hp_data)
```

```{r}
colnames(hp_data)
```

#### **Ver el data frame completo en una ventana tipo Excel**

Si queremos explorar la base de datos de forma más completa, R ofrece una función que abre una ventana similar a una hoja de cálculo, donde podemos visualizar todas las filas y columnas. Esto se realiza con la función **`View()`**.

```{r}
View(hp_data)
```

#### **Resumen estadístico de las variables numéricas**

Para obtener una primera impresión del comportamiento de las **variables numéricas** en un data frame, R ofrece la función **`summary()`**.\
Esta función genera un **resumen estadístico básico**, que incluye información como el valor mínimo y máximo, la mediana, el promedio y los cuartiles.

Estos datos permiten entender rápidamente cómo están distribuidos los valores, identificar variaciones importantes y detectar posibles valores atípicos dentro del conjunto de datos.

```{r}
summary(hp_data)
```

Hasta aquí ya tenemos todo lo necesario para "conocer" tus datos: cómo cargarlos, visualizarlos, revisar sus columnas y obtener un resumen general. Este es el primer paso en cualquier análisis.

## Referencias

-   The Carpentries. (2025). *R for Reproducible Scientific Analysis*. <https://swcarpentry.github.io/r-novice-gapminder/>

-   Demiryürek, G. (2021). *Harry Potter Dataset*. Kaggle.\
    <https://www.kaggle.com/datasets/gulsahdemiryurek/harry-potter-dataset>
